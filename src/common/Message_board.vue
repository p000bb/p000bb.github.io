<template>
	<div>
		<h3 style="padding-bottom:10px" v-if="message">Áïô‰∏™Ë®ÄÂêß</h3>
		<h3 style="padding-bottom:10px" v-else>ÂõûÂ§ç{{userinfo.nickname}}</h3>
		<el-input placeholder="ËØ∑ËæìÂÖ•ÊòµÁß∞" v-model="messageForm.nickname" maxlength="15" show-word-limit clearable class="nickname">
		</el-input>
		<el-input type="textarea" placeholder="ÂêÑ‰ΩçÁúãÂÆ¢ËÄÅÁà∑‰ª¨Áïô‰∏™Ë®ÄÊää" v-model="messageForm.textarea" maxlength="100" show-word-limit>
		</el-input>
		<div class="info-footer">
			<el-popover placement="bottom" width="200" trigger="click">
				<div style="position: relative;">
					<ul class="emojis-ul" style="background: #F4F5F5;">
						<li v-for="item in emojis" class="emojis-li" @click="events(item,eventName[0])">{{item}}</li>
					</ul>
				</div>
				<div class="emoji" slot="reference">
					<i class="icon-emoji"></i>
				</div>
			</el-popover>
			<div>
				<el-button type="primary" size="mini" @click="events(messageForm,eventName[1])">{{footerName}}</el-button>
			</div>
		</div>
	</div>
</template>

<script>
	export default {
		components: {},
		data() {
			return {
				emojis: ['üòÇ', 'üôè', 'üòÑ', 'üòè', 'üòá', 'üòÖ', 'üòå', 'üòò', 'üòç', 'ü§ì', 'üòú', 'üòé', 'üòä', 'üò≥', 'üôÑ', 'üò±', 'üòí', 'üòî',
					'üò∑', 'üëø', 'ü§ó', 'üò©', 'üò§', 'üò£', 'üò∞', 'üò¥', 'üò¨', 'üò≠', 'üëª', 'üëç', '‚úåÔ∏è', 'üëâ', 'üëÄ', 'üê∂', 'üê∑', 'üòπ', '‚ö°Ô∏è',
					'üî•', 'üåà', 'üçè', '‚öΩÔ∏è', '‚ù§Ô∏è', 'üá®üá≥'
				],
				message:true,
			}
		},
		computed: {},
		//	Áî®‰∫éÊé•ÂèóÁà∂ÁªÑ‰ª∂‰º†ËøáÊù•ÁöÑ‰ø°ÊÅØ
		inject: ['userinfo'],
		props:{
			messageForm:{
				type:Object,
				default:()=>{
					return {}
				}
			},
			footerName:{
				type:String,
				default:'ÁïôË®Ä'
			},
			eventName:{
				type:Array,
				default:()=>{
					return ['push','publish']
				}
			}
		},
		created() {
		},
		methods: {
			events(item,type){
				this.$emit('events',{
					eventName:type,
					data:item
				})
			}
		}
	}
</script>

<style scoped>
	.emojis-ul {
		width: 200px;
		height: 100%;
		border: 2px solid #e8e8e8;
	}
	
	.emojis-li {
		cursor: pointer;
		display: inline-block;
	}
	
	.emoji {
		display: flex;
		justify-content: center;
		align-items: center;
		width: 20px;
		height: 20px;
		padding: 5px 10px 0 10px;
	}
	
	.emoji:hover {
		cursor: pointer;
	}
	
	.icon-emoji {
		width: 40px;
		height: 100%;
		background: url('../assets/icons/icon-emoji.svg') no-repeat;
		background-size: contain;
	}
	
	.info-footer {
		display: flex;
		justify-content: space-between;
		height: 30px;
		padding: 10px 10px 0 10px;
	}
	
	.nickname {
		width: 30%;
		min-width: 200px;
		margin-bottom: 20px;
	}
</style>
